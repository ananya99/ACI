# @package custom.default.eye
# Store this eye in the custom attribute in case we don't actually use this eye

defaults:
  - /MjCambrianEyeConfig

instance:
  _target_: cambrian.eyes.eye.MjCambrianEye
  _partial_: true

fov: [45, 45]
focal: [0.01, 0.01]
sensorsize:
  - ${eval:'2 * ${..focal.0} * math.tan(math.radians(${..fov.0}) / 2)'}
  - ${eval:'2 * ${..focal.1} * math.tan(math.radians(${..fov.1}) / 2)'}
resolution: [1, 1]
coord: [0, 0] # placeholder

renderer:
  render_modes: [rgb_array]

  width: ${..resolution.0}
  height: ${..resolution.1}

  camera:
    _target_: cambrian.utils.base_config.instance_wrapper
    instance:
      _target_: mujoco.MjvCamera
  scene:
    _target_: cambrian.utils.base_config.instance_wrapper
    instance:
      _target_: mujoco.MjvScene
      _partial_: true
      maxgeom: 10000
  scene_options:
    _target_: cambrian.utils.base_config.instance_wrapper
    instance:
      _target_: mujoco.MjvOption

    # We'll hide all the geomgroups and sitegroups after 2
    # We can then put stuff at groups > 2 and it will be hidden to the animal
    geomgroup:
      _target_: cambrian.utils.base_config.instance_flag_wrapper
      instance: ${..instance}
      key: ${parent:}
      eval_flags: true
      slice(2, None): False
    sitegroup: ${.geomgroup}

  use_shared_context: ${env.renderer.use_shared_context}

# By default, we'll enable the eye.
enabled: True
