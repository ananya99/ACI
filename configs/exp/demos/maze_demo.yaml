defaults:
  - /env/mazes/X_COMPLEX_STATIC@env.mazes.DEMO_MAZE

  - /env/objects@env.objects.goal: goal

  # Demo uses a single agent with a single eye
  # Can specify env.animals.animal_0.num_eyes_to_generate to have more, uniformly
  # distributed eyes
  - /env/animals@env.animals.animal_0: ${env/animals}
  - /env/animals/eyes@env.animals.animal_0.eyes.animal_0_eye_0: ${env/animals/eyes}

  # Use the maze_exp config as the base
  - /exp/maze_exp

  # Use point
  - override /env/animals: point

env:
  animals:
    animal_0:
      # Set the initial yaw to -pi / 4.
      init_quat: ["${eval:'math.cos(-math.pi/4)'}", 0, 0, "${eval:'math.sin(-math.pi/4)'}"]

      # Set the animal to be the optimal policy for the maze
      trainable: false
      instance:
        _target_: cambrian.animals.MjCambrianPointAnimalMazeOptimal
        _partial_: true
        target_object: goal

      eyes:
        animal_0_eye_0:
          # Enable the skybox
          renderer:
            scene:
              mjRND_SKYBOX: 1

  # Add a nice skybox to the scene; normally the skybox is just black
  xml:
    overrides:
      - mujoco:
          - asset:
              - texture:
                  - name: "skybox"
                  - type: "skybox"
                  - file: "forest_skybox.png"
                  - gridsize: "3 4"
                  - gridlayout: ".U..LFRB.D.."
                  - builtin: "none"
              - texture:
                  - name: "floor_tex_DEMO_MAZE"
                  - file: "maze_textures/foliage.png"
                  - type: "2d"
              - material:
                  - name: "floor_mat_DEMO_MAZE"
                  - texture: "floor_tex_DEMO_MAZE"
                  - rgba: "1 1 1 1"
                  - texrepeat: "0.01 0.01"
                  - texuniform: "true"
              - material:
                  - name: "wall_DEMO_MAZE_default_test_mat"
                  - emission: 1.0
          - worldbody:
              - light:
                  - directional: "true"
                  - diffuse: "1 1 1"
                  - dir: "0 0 -1"

  mazes:
    DEMO_MAZE:
      wall_texture_map:
        default: [grass_with_freq]
        L: ${.default}
        R: ${.default}
        E: ${.default}

  # The skybox is rendered in the background of the scene; override the default
  # settings which disable the skybox
  renderer:
    scene:
      mjRND_SKYBOX: 1
