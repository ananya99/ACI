# @package _global_

defaults:
  # Use the num_eyes config in this directory as the default
  - /exp/insect_vision/navigation_num_eyes

hydra:
  sweeper:
    parametrization:
      # Add the resolution of the eyes to the sweeper
      env.animals.animal_0.eyes.eye.resolution.0:
        init: 1
        lower: 1
        upper: 100
        step: 5
        integer: true

    # Add a cheap constraint to restrict the number of eyes generated to be
    # "anatomically feasible"
    cheap_constraints:
      - _target_: cambrian.ml.constraint_fns.nevergrad_constraint_fn
        _partial_: true
        fn: cambrian.ml.constraint_fns.constrain_anatomically_feasible_eyes
        num_lon_eyes_to_generate: env.animals.animal_0.num_eyes_to_generate.1
        width: env.animals.animal_0.eyes.eye.resolution.0
        lon_range: ${env.animals.animal_0.eyes_lon_range}
