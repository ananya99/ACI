# @package _global_

defaults:
  # Use one maze for the time being
  - /env/mazes/Y_STATIC@env.mazes.Y_STATIC
  - /env/mazes/X_COMPLEX_STATIC@env.mazes.X_COMPLEX_STATIC

  # Use the maze_exp config as the base
  - /exp/maze_exp

  # Define one animal
  - /env/animals@env.animals.animal_0: ${env/animals}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_0: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_1: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_2: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_3: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_4: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_5: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_6: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_7: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_8: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_9: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_10: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_11: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_12: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_13: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_14: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_15: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_16: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_17: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_18: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_19: ${env/animals/eyes}
  - /env/animals/eyes@env.animals.animal_0.eyes.eye_20: ${env/animals/eyes}
  - override /env/animals: point

# Set expname explicitly, submitit_local will complain otherwise.
expname: insect_vision/num_eyes_sweep

# Update the logdir to include the hydra job num to avoid overwriting logs
logdir: ./logs/${now:%Y-%m-%d}/${expname}/${hydra:job.num}

trainer:
  # decrease the number of timesteps to speed up the sweep
  total_timesteps: 300_000

env:
  animals:
    animal_0:
      eyes:
        eye_0:
          coord: [10, -60]
        eye_1:
          coord: [10, -54]
        eye_2:
          coord: [10, -48]
        eye_3:
          coord: [10, -42]
        eye_4:
          coord: [10, -36]
        eye_5:
          coord: [10, -30]
        eye_6:
          coord: [10, -24]
        eye_7:
          coord: [10, -18]
        eye_8:
          coord: [10, -12]
        eye_9:
          coord: [10, -6]
        eye_10:
          coord: [10, 0]
        eye_11:
          coord: [10, 6]
        eye_12:
          coord: [10, 12]
        eye_13:
          coord: [10, 18]
        eye_14:
          coord: [10, 24]
        eye_15:
          coord: [10, 30]
        eye_16:
          coord: [10, 36]
        eye_17:
          coord: [10, 42]
        eye_18:
          coord: [10, 48]
        eye_19:
          coord: [10, 54]
        eye_20:
          coord: [10, 60]

hydra:
  sweeper:
    parametrization:
      env.animals.animal_0.eyes.eye_0.enabled: [true, false]
      env.animals.animal_0.eyes.eye_1.enabled: [true, false]
      env.animals.animal_0.eyes.eye_2.enabled: [true, false]
      env.animals.animal_0.eyes.eye_3.enabled: [true, false]
      env.animals.animal_0.eyes.eye_4.enabled: [true, false]
      env.animals.animal_0.eyes.eye_5.enabled: [true, false]
      env.animals.animal_0.eyes.eye_6.enabled: [true, false]
      env.animals.animal_0.eyes.eye_7.enabled: [true, false]
      env.animals.animal_0.eyes.eye_8.enabled: [true, false]
      env.animals.animal_0.eyes.eye_9.enabled: [true, false]
      env.animals.animal_0.eyes.eye_10.enabled: [true, false]
      env.animals.animal_0.eyes.eye_11.enabled: [true, false]
      env.animals.animal_0.eyes.eye_12.enabled: [true, false]
      env.animals.animal_0.eyes.eye_13.enabled: [true, false]
      env.animals.animal_0.eyes.eye_14.enabled: [true, false]
      env.animals.animal_0.eyes.eye_15.enabled: [true, false]
      env.animals.animal_0.eyes.eye_16.enabled: [true, false]
      env.animals.animal_0.eyes.eye_17.enabled: [true, false]
      env.animals.animal_0.eyes.eye_18.enabled: [true, false]
      env.animals.animal_0.eyes.eye_19.enabled: [true, false]
      env.animals.animal_0.eyes.eye_20.enabled: [true, false]

      # Also sweep over the brain capacity
      trainer.model.policy_kwargs.features_extractor_kwargs.output_dim:
        - 8
        - 16
        - 32
        - 64
        - 128
        - 256
      trainer.model.policy_kwargs.features_extractor_kwargs.image_extractor.architecture:
        - [8, 16]
        - [16, 32]
        - [32, 64]
        - [64, 128]
        - [128, 256]
        - [256, 512]
