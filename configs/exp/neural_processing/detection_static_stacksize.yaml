# @package _global_

defaults:
  - /exp/neural_processing/detection_stacksize

  - override /env/mazes@env.mazes.maze: CHOICE

env:
  agents:
    agent:
      # Set the initial yaw to -pi / 4.
      init_quat: ["${eval:'math.cos(-math.pi/4)'}", 0, 0, "${eval:'math.sin(-math.pi/4)'}"]

  reward_fn:
    reward_if_facing_goal:
      _target_: cambrian.envs.reward_fns.reward_if_facing_agents
      _partial_: true
      reward_facing: 0.25
      to_agents: [goal]
      scale_by_angle: True

    constant_penalty:
      _target_: cambrian.envs.reward_fns.constant_reward
      _partial_: true
      reward: -0.1

  termination_fn:
    terminate_if_agent_facing_goal:
      _target_: cambrian.envs.done_fns.done_if_facing_agents
      _partial_: true
      to_agents: [goal]
      n_frames: 25

trainer:
  wrappers:
    constant_action_wrapper:
      constant_actions:
        0: -1
