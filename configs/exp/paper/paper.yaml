# @package _global_

defaults:
  - /exp/tasks: "???"

env:
  termination_fn:
    terminate_if_close_to_goal:
      _target_: cambrian.envs.termination_fns.terminate_if_close_to_object
      _partial_: true
      distance_threshold: 3.0
      objects: [goal]

  animals:
    animal:
      # Set the initial yaw to -pi / 4.
      init_quat: ["${eval:'math.cos(-math.pi/4)'}", 0, 0, "${eval:'math.sin(-math.pi/4)'}"]

      # Set the animal to be the optimal policy for the maze
      use_privileged_action: true
      instance:
        _target_: cambrian.animals.MjCambrianPointAnimalMazeOptimal
        _partial_: true
        target_object: goal

  # Add a nice skybox to the scene; normally the skybox is just black
  xml:
    overrides:
      - mujoco:
          - worldbody:
              - light:
                  - directional: "true"
                  - diffuse: "1 1 1"
                  - dir: "0 0 -1"

eval_env:
  save_filename: paper/${custom.base}_${custom.with_overlays}

custom:
  base: ${eval:'"pov" if ${env.render_animal_composite_only} else "bev"'}
  with_overlays: ${eval:'"with_overlays" if ${env.add_overlays} else "without_overlays"'}
