# @package _global_

# This task is for navigation. It's essentially identical to /exp/tasks/navigation.yaml,
# except this task adds a goal to allow for a termination condition to be added. A
# termination condition indicates success, and in this case, the agent is successful if
# it reaches the goal (within a certain distance threshold).

defaults:
  # Adds a single goal to the environment
  # NOTE: ensure the mazes used have a reset location available for the goal to be
  # placed at.
  # NOTE #2: This has to be defined before the task below since otherwise default
  # variables (i.e. ${env/object}) won't be able to be resolved.
  - /env/objects@env.objects.goal: goal

  - /exp/tasks/navigation@_here_

env:
  termination_fn:
    terminate_if_close_to_goal:
      _target_: cambrian.envs.termination_fns.terminate_if_close_to_object
      _partial_: true
      objects: [goal]
      distance_threshold: 1.0
