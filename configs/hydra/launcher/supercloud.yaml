defaults:
  # Set to use submitit_slurm
  - /hydra/launcher/submitit_slurm@_here_

timeout_min: ${eval:'60*24'} # 1 day (in min)
tasks_per_node: 1
cpus_per_task: 40
gres: gpu:volta:1
nodes: 1
qos: high

# supercloud only allows 4 nodes in parallel
array_parallelism: 4

# these are run prior to calling sbatch before running the job
setup:
  - source /etc/profile
  - export TF_CPP_MIN_LOG_LEVEL=2
  - export OPENBLAS_NUM_THREADS=1
  - export PMIX_MCA_gds=hash
