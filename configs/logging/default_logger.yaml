# This logging config has three handlers: stdout, stderr, and file. The file handler writes to a file in the logdir with the experiment name.
version: 1
disable_existing_loggers: False
formatters:
  simple:
    format: '%(levelname)-8s | %(module)s.%(funcName)s :: %(message)s'
filters:
  max_level:
    (): cambrian.utils.logger.MjCambrianLoggerMaxLevelFilter
handlers:
  stdout:
    class: cambrian.utils.logger.MjCambrianTqdmStreamHandler
    formatter: simple
    stream: ext://sys.stdout
    level: INFO
    filters: [max_level]
  stderr:
    class: cambrian.utils.logger.MjCambrianTqdmStreamHandler
    formatter: simple
    stream: ext://sys.stderr
    level: WARNING
  file_out:
    class: logging.FileHandler
    formatter: simple
    filename: ${training_config.logdir}/${training_config.exp_name}/out.log
    level: DEBUG
    mode: w
  file_err:
    class: logging.FileHandler
    formatter: simple
    filename: ${training_config.logdir}/${training_config.exp_name}/err.log
    level: WARNING
    mode: w
loggers:
  root:
    level: DEBUG
    handlers: [stdout, stderr, file_out, file_err]