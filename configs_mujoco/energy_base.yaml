extend:
  base: ${extend:${include:configs_mujoco/base.yaml}}

training_config:
  n_steps: 2048 # 2048 increasing to 4096

  n_epochs: 8 # 8 increasing to 10

  reward_threshold: 120.0 # 90.0 increasing to 120.0

env_config:
  use_ambient_light: True

  reward_fn_type: intensity_and_at_goal #energy_per_step_and_at_goal
  reward_options:
    energy_per_step: -0.001

  contact_penalty: -1.5
  adversary_penalty: -1.0
  reward_at_goal: 1.0

evo_config:
  spawning_config:
    default_animal_config:
      n_temporal_obs: 5

      disable_intensity_sensor: False
      intensity_sensor_config:
        mode: fixed
        resolution: [1, 1]
        fov: [120, 10]
        enable_optics: False
        load_height_mask_from_file: False
        height_mask_from_file: "data/FisherMask_HeightMap.txt"
        randomize_psf_init: False
        psf_filter_size: [23, 23]
        refractive_index: 1.5
        depth_bins: 10
        min_phi_defocus: -10
        max_phi_defocus: 10
        wavelengths: [610. * 1e-9, 530. * 1e-9, 470. * 1e-9]

        renderer_config:
          render_modes: [rgb_array]

          use_shared_context: True

    default_eye_config:
      name: ${parent:} # will be replaced with parent key. evaluated after extend.
      mode: fixed

      enable_optics: True
      load_height_mask_from_file: True
      height_mask_from_file: "data/FisherMask_HeightMap.txt"
      randomize_psf_init: False
      psf_filter_size: [23, 23]
      refractive_index: 1.5
      depth_bins: 10
      min_phi_defocus: -10
      max_phi_defocus: 10
      wavelengths: [610. * 1e-9, 530. * 1e-9, 470. * 1e-9]

      resolution: [-1, -1] # Placeholder
      fov: [-1, -1] # Placeholder

      renderer_config:
        render_modes: [rgb_array]

        use_shared_context: True

  environment_variables: {}
